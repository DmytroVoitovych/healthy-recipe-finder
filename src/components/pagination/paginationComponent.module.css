.pagination {
  --pading-y: 10px;
  --padding-x: 20px;
  --page-gap: 2px;

  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: calc(var(--page-gap) * 2);
  padding: 48px 0;

  @media (min-width: $sm) {
    display: flex;
    justify-content: center;
  }

  & > ul {
    display: flex;
    justify-content: center;
    align-items: center;
    grid-column: 1/3;

    gap: var(--page-gap);

    & > li {
      position: relative;
    }

    & > li > a {
      display: inline-block;
      padding: var(--pading-y) var(--padding-x);
      border: 1px solid var(--color-border-dark);
      border-radius: 4px;
      transition: background-color 250ms ease-in-out;

      &:focus-visible {
        outline: 2px solid var(--color-border-focus);
        outline-offset: 2px;
        border-radius: 4px;
      }

      @media (hover: hover) {
        &:hover {
          background-color: var(--color-button-bg-hover);
          color: var(--color-text-inverse);
        }
      }
    }

    @layer pagination-collapsed {
      & > :where(li:not(:first-child, :last-child, :has(a[aria-current="page"]))) {
        display: none;
      }

      & > li:has(a[aria-current="page"]) + li {
        display: block;
      }

      & > li:first-child:has(a[aria-current="page"]) + li + li {
        display: block;
      }

      &
        > li:where(
          :nth-last-child(3):has(~ li > a[aria-current="page"]) ~ li,
          :nth-last-child(3):has(~ li > a[aria-current="page"])
        ) {
        display: block;
      }

      @media (min-width: $sm) {
        & {
          all: revert-layer;
        }

        & > li {
          display: block;
        }
      }
    }

    & > li > a[aria-current="page"] {
      background-color: var(--color-button-primary-bg);
      color: var(--color-text-inverse);
      pointer-events: none;
      cursor: default;
    }

    & > li:last-child[data-page-gap]::before {
      content: ". . .";
      display: inline-block;
      height: 0.5rem;
      vertical-align: bottom;
      line-height: 0;
      margin-right: var(--page-gap);
      padding: 0 calc(var(--padding-x) / 2);
      font-stretch: expanded;

      @media (max-width: 374.9px) {
        content: "|";
        vertical-align: middle;
        height: 100%;
      }
    }

    & > li:first-child:has(+ li[data-page-gap])::after {
      content: ". . .";
      display: inline-block;
      height: 0.5rem;
      vertical-align: bottom;
      line-height: 0;
      margin-right: var(--page-gap);
      padding: 0 calc(var(--padding-x) / 2);
      font-stretch: expanded;

      @media (max-width: 374.9px) {
        content: "|";
        vertical-align: middle;
        height: 100%;
      }
    }
  }
}

.arrowBtn {
  grid-row: 2;
  border-radius: 4px;
  padding: var(--pading-y) var(--padding-x);
  grid-column: 1 / 3;

  &[rel="prev"]:has(~ [rel="next"]) {
    grid-column: unset;
  }

  &[rel="prev"]:has(~ [rel="next"]) ~ [rel="next"] {
    grid-column: unset;
  }
}
